{% extends "base.html" %}

{% block title %}Página Inicial - Rolling Recipes{% endblock %}

{% block content %}
<div class="text-center my-5">
    <!-- Título Principal -->
    <h1 class="display-4">A sua próxima receita favorita</h1>

    <!-- Container para a animação Lottie do dado (agora posicionado aqui) -->
    <div id="lottie-loader" class="d-none mt-4" 
         style="max-width: 400px; margin: 0 auto;">
        <lottie-player src="{{ url_for('static', filename='dice_6.json') }}" background="transparent" speed="1" loop autoplay />
    </div>

</div>

<!-- Área para exibir mensagens (ex: nenhuma receita encontrada) -->
<div id="message-display" class="alert alert-warning mt-4 text-center d-none" role="alert"></div>

<!-- Área onde a receita será exibida -->
<div id="recipe-display" class="row justify-content-center d-none">
    <div class="col-md-8">
        <div class="card shadow-sm">
            <div class="card-body">
                <h2 id="recipe-title" class="card-title"></h2>
                <h5 class="text-muted">Ingredientes:</h5>
                <ul id="recipe-ingredients" class="list-group list-group-flush">
                    <!-- Ingredientes serão inseridos aqui via JS -->
                </ul>
                <h5 class="mt-4 text-muted">Passos:</h5>
                <!-- As instruções serão renderizadas aqui como uma lista ordenada -->
                <ol id="recipe-instructions" class="ps-3"></ol>
                <!-- Botão de Favoritar -->
                <div class="mt-4">
                    <button id="favorite-btn" class="btn btn-outline-danger">
                        ❤️ Guardar nos Favoritos
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Container para os controlos, agora posicionado no final -->
<div id="initial-controls" class="text-center my-5">
    <p class="lead mt-3">Não sabe o que cozinhar? Clique no botão abaixo e nós damos-lhe uma ideia!</p>
    <button id="get-recipe-btn" class="btn btn-warning btn-lg mt-3">
        Encontrar Receita!
    </button>
    <div class="mt-5">
        <p class="lead">Deseja filtrar o sorteio? Escreva um ingrediente e apresentamos apenas receitas que o contenham.</p>
        <form id="search-form" class="mt-3">
            <div class="row justify-content-center">
                <div class="col-12 col-md-8 col-lg-6">
                    <div class="input-group">
                        <input type="text" id="ingredient-input" class="form-control" placeholder="Ex: queijo, frango..." pattern="[A-Za-zÀ-ú\s-]+" title="Por favor, use apenas letras, espaços e hífens." maxlength="20">
                        <button id="search-recipe-btn" class="btn btn-warning" type="submit">Filtrar e Sortear</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

{% endblock %}

{% block scripts %}
{% endblock %}